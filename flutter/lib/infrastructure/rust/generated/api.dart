// This file is automatically generated, so please do not edit it.
// @generated by `flutter_rust_bridge`@ 2.11.1.

// ignore_for_file: invalid_use_of_internal_member, unused_import, unnecessary_import

import 'error.dart';
import 'frb_generated.dart';
import 'package:flutter_rust_bridge/flutter_rust_bridge_for_generated.dart';

// These function are ignored because they are on traits that is not defined in current crate (put an empty `#[frb]` on it to unignore): `clone`, `fmt`

/// Инициализация логирования в Rust.
///
/// Можно вызвать из Flutter сразу после старта.
Future<void> initLogging() => RustCore.instance.api.crateApiInitLogging();

/// Stream событий добавления файла.
///
/// В Dart это будет выглядеть как `Stream<FileAddedEvent> onFileAdded()`.
Stream<FileAddedEvent> onFileAdded() =>
    RustCore.instance.api.crateApiOnFileAdded();

/// Запуск мониторинга.
///
/// - Если `override_path` = `None` → используется дефолтный `Desktop/Latera`.
/// - Если `Some` → должен быть абсолютный путь; директория будет создана при отсутствии.
///
/// Возвращает фактический путь директории наблюдения (для отображения в UI).
Future<String> startWatching({String? overridePath}) =>
    RustCore.instance.api.crateApiStartWatching(overridePath: overridePath);

/// Остановить мониторинг (graceful shutdown).
Future<void> stopWatching() => RustCore.instance.api.crateApiStopWatching();

/// Событие: добавлен новый файл.
///
/// Поля подобраны так, чтобы их было удобно бриджить во Flutter.
class FileAddedEvent {
  final String fileName;
  final String fullPath;
  final int occurredAtMs;

  const FileAddedEvent({
    required this.fileName,
    required this.fullPath,
    required this.occurredAtMs,
  });

  @override
  int get hashCode =>
      fileName.hashCode ^ fullPath.hashCode ^ occurredAtMs.hashCode;

  @override
  bool operator ==(Object other) =>
      identical(this, other) ||
      other is FileAddedEvent &&
          runtimeType == other.runtimeType &&
          fileName == other.fileName &&
          fullPath == other.fullPath &&
          occurredAtMs == other.occurredAtMs;
}
